var proflowgui=function(t,e){"use strict";function r(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}})),e.default=t,Object.freeze(e)}var n=r(e);function a(t){t.sort((function(t,e){return t.source>e.source?1:t.source<e.source?-1:t.target>e.target?1:t.target<e.target?-1:0}))}function o(t){var e={};console.info(t);for(var r=0;r<t.length;r++)0!=r&&t[r].source==t[r-1].source&&t[r].target==t[r-1].target?t[r].linkindex=t[r-1].linkindex+1:t[r].linkindex=1,void 0!==e[t[r].target+","+t[r].source]?e[t[r].target+","+t[r].source]=t[r].linkindex:e[t[r].source+","+t[r].target]=t[r].linkindex;return e}function i(t,e,r,n){const a=r.source,o=r.target;if(!a||!o)throw console.info(n),console.info(r),Error("Node not found!");var i=e?a.x:o.x,c=e?a.y:o.y,s=e?o.x:a.x,l=e?o.y:a.y,u=s-i,d=l-c,f=Math.sqrt(u*u+d*d),p=e?0:1,x=(u=o.x-a.x,d=o.y-a.y,f=Math.sqrt(u*u+d*d),t[a.id+","+o.id]||t[o.id+","+a.id]);return x>1&&(f/=1+1/x*(r.linkindex-1-p)),"M"+i+","+c+"A"+f+", "+f+" 0, 0, "+p+" "+s+","+l}var c=n.scaleOrdinal(n.schemeCategory10),s=n.select("svg"),l=+s.attr("width"),u=+s.attr("height");console.info("hello"),s.append("defs").append("marker").attrs({id:"arrowhead",viewBox:"-0 -5 10 10",refX:13,refY:0,orient:"auto",markerWidth:13,markerHeight:13,xoverflow:"visible"}).append("svg:path").attr("d","M 0,-5 L 10 ,0 L 0,5").attr("fill","#999").style("stroke","none");var d=n.forceSimulation().force("link",n.forceLink().id((function(t){return t.id})).distance(500).strength(.5)).force("charge",n.forceManyBody()).force("center",n.forceCenter(l/2,u/2));n.json("/data/force.json",(function(t,e){if(t)throw t;var r=e.links;a(r);var i=o(r);!function(t,e,r={}){var a,o,i;(a=s.selectAll(".link").data(t).enter().append("svg:path").attr("class","link").attr("marker-end","url(#arrowhead)")).append("title").text((function(t){return t.name})),o=s.selectAll(".pathInvis").data(t).enter().append("svg:path").attr("id",(function(t){return"invis_"+t.source+"-"+t.linkindex+"-"+t.target})).attr("class","pathInvis"),s.selectAll(".pathLabel").data(t).enter().append("svg:text").attr("class","pathLabel").attr("text-anchor","middle").append("svg:textPath").attr("startOffset","50%").attr("xlink:href",(function(t){return"#invis_"+t.source+"-"+t.linkindex+"-"+t.target})).style("fill","#cccccc").style("font-size",30).text((function(t){return t.name})),(i=s.selectAll(".node").data(e).enter().append("g").attr("class","node").call(n.drag().on("start",p).on("drag",x))).append("circle").attr("r",5).style("fill",(function(t,e){return c(e)})),i.append("title").text((function(t){return t.id})),i.append("text").attr("dy",-3).text((function(t){return t.name+":"+t.text})),d.nodes(e).on("tick",f(a,o,i,r,e)),d.force("link").links(t)}(r,e.nodes,i)}));const f=(t,e,r,n,a)=>function(){t.attr("d",(function(t){return i(n,!0,t,a)})),e.attr("d",(function(t){const e=t.source,r=t.target;return i(n,e.x<r.x,t,a)})),r.attr("transform",(function(t){return"translate("+t.x+", "+t.y+")"}))};function p(t){n.event.active||d.alphaTarget(.02).restart(),t.fx=t.x,t.fy=t.y}function x(t){t.fx=n.event.x,t.fy=n.event.y}return t.setLinkIndexAndNum=o,t.sortLinks=a,t}({},d3);
